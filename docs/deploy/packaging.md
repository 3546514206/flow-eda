# 项目打包

当我们要部署项目时，应保证先部署好项目所需要的一些中间件服务，然后再进行项目服务的部署。

在进行项目部署前，需要先对项目进行打包。

> 若采用 docker 等命令行部署方式，也可以将项目打包命令写入到部署命令一起执行。

### 修改配置文件

当我们在确定好部署的服务器 IP 地址后，需要在项目打包前修改配置文件，以确保部署的服务能够正确地运行。

> 此处修改项目配置文件，仅仅是为了打包。若需要本地启动项目注意要修改回来。

#### 修改后端配置文件

当我们部署后端服务前，需要先将后端服务所依赖的一些中间件服务部署好，然后将这些中间件服务的 IP 地址或域名填写到后端项目的配置文件中。

例如：我们已经部署好了`mysql`,`rabbitmq`,`nacos`等中间件服务，假设我们将这些服务都部署在同一台服务器上，我们假设服务器 IP 地址为`127.0.0.1`。
那么我们需要在后端项目的配置文件中修改对应内容，将`localhost`修改为`127.0.0.1`，同时检查项目配置中的用户名密码等，进行对应修改。

![image](../img/packaging1.png)

> 所有后端服务的配置文件都要进行修改。

#### 修改前端配置文件

前端配置修改与后端稍有不同，前端项目需要修改的配置目前暂时只有一个 Websocket 服务器 IP 地址的配置，需要获取后端服务部署的服务器 IP 地址或域名。

此处假设我们后端项目部署的 IP 地址为`127.0.0.1`，那么它也是我们的后端 Websocket 服务的 IP 地址。

- 对于`flow-eda-vue`项目，我们需要修改`src`目录下的`main.js`文件，将最后一行的`localhost`修改为对应 IP 地址。

```js
window.$wsIp = "ws://127.0.0.1";
```

- 对于`flow-eda-react`项目，我们需要修改`src`目录下的`global.tsx`文件，将最后一行的`localhost`修改为对应 IP 地址。

```tsx
export const wsIp: string = "ws://127.0.0.1";
```

> 需要部署哪个项目就修改哪个项目，若都部署则都需要修改。

### 打包后端项目

后端项目的构建需要安装maven构建管理工具

