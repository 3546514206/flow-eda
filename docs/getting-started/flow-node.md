# 功能节点

在绘图区域的左侧有一条含有很多节点的列表，我们把这些节点称之为“功能节点”。

功能节点会随着项目的不断迭代开发而扩展变化，根据其功能特点分为不同的节点类型，在节点列表区域可以展开和折叠同类型的节点。

### 节点类型

所有的功能节点，根据节点特性分为以下几大类：

- 起始节点：在一个流程中，起始节点是标志流程开始的节点，整个流程是从起始节点开始执行的。例如开始、定时器等节点就是起始节点。
- 普通节点：泛指没有特殊性质的节点，这类节点往往功能简单，由上游节点触发执行，执行完成该节点就运行结束了。例如数据库类的节点。
- 输出节点：当运行流程时需要查看运行结果或者输出参数，就需要有输出节点来专门负责查看输出内容。目前仅有[输出]节点有此功能。
- 阻塞节点：当流程正常运行时，有些节点无法立即运行完成，需要一直处于运行中状态等待，这类节点为阻塞节点，会阻塞当前流程的执行。例如 WS 服务端等节点。

阻塞节点一般在流程运行时会一直处于运行中状态，阻塞整个流程继续向下运行，往往无法自行停止或切换运行状态，这是由于其功能的特殊性需要一直处于监听状态导致的。
除定时器、延时器等有终止条件的节点外，其他阻塞节点都是无法自行停止的。

> 当用户想要主动停止阻塞节点时，可以点击工具栏的停止按钮来中止流程。

下面我们将对功能节点进行一一介绍。

### 开始节点

开始节点是触发流程执行的起始节点，一个流程图中不限制开始节点的数量。
运行流程时，当前流程中所有的开始节点会同时运行，每个开始节点仅会运行一次。

**节点参数：**
无

### 定时器节点

定时器节点可作为起始节点，用于定时触发流程周期性执行，支持周期触发和 cron 表达式，可指定执行次数，可输出指定格式的时间戳；
亦可作为非起始节点，由上游节点触发执行。

> 定时器节点作为起始节点时，在流程开始运行时会立即执行一次。

**节点参数：**

- 执行周期<font color=red>\*</font>：指每次触发执行的时间间隔，采用填写数值+选择单位的方式，可以让用户灵活的填写执行周期。支持 cron 表达式
- 执行次数<font color=red>\*</font>：指定时触发的总执行次数，0 表示不限制次数，永久执行。
- 输出时间：用户可以选择输出时间的格式，不选择则不输出时间。选定格式后，本节点每次运行时都会输出对应格式的时间值，字段名为`timestamp`。

### 延时器节点

延时器节点用于延迟执行，可设定延迟时间，等待延迟时间过后再触发下游节点执行。

**节点参数：**

- 延迟时间<font color=red>\*</font>：指需要延迟多长时间，采用填写数值+选择单位的方式，用户可以灵活指定延迟时间。

### 输出节点

输出节点主要用于展示输出内容，当其上游节点运行完成后，节点的输出参数就会传递至输出节点，再由输出节点进行实时展示。
方便用户实时查看各个节点的输出参数内容。输出节点由上游节点触发执行，触发后立即执行完成，展示最新的输出信息，会覆盖之前的输出信息。

> 输出节点可将上游节点的输出信息完整地传递至下游节点。

**节点参数：**
无

### 条件节点

条件节点主要用于判断条件是否满足，用户可根据上游节点的参数值进行判断，条件满足后才会继续向下游节点执行输出，若条件不满足则不继续执行，
可使用多个条件节点组成与或等逻辑通路。

**节点参数：**

- 字段名<font color=red>\*</font>：指从上游节点的输出参数中取哪个字段进行判断，此处填写字段名，若输出参数有多层结构，可使用 a.b.c 的格式获取，仅支持填写单个字段名，不支持多个字段。
- 判断逻辑<font color=red>\*</font>：指需要对目标字段做什么判断，等于或不等于、大于小于之类的各种判断逻辑可供用户选择。
- 判断值<font color=red>\*</font>：指期望目标字段在对应逻辑下的值，和逻辑判断组合使用，例如=xxx、>1 等等。支持填写 null，表示目标字段不存在（存在）或者值为（不为） NULL。

### 序列节点

序列节点，可按自定义间隔大小进行递增或递减，依次输出整数序列
序列节点，可按自定义间隔大小进行递增或递减，依次输出整数序列

### 拼接节点

拼接节点，在一定时间内持续接收上游节点的输出参数，对指定字段的值进行拼接并输出
拼接节点，在一定时间内持续接收上游节点的输出参数，对指定字段的值进行拼接并输出

### 分割节点

分割节点，对指定字段的值进行分割后输出，可指定输出方式
分割节点，对指定字段的值进行分割后输出，可指定输出方式

### 解析器节点

用于解析上游节点的输出参数，获取用户需要的参数信息
json 解析器，用于解析上游节点的输出参数，获取用户需要的参数信息

### HTTP 请求节点

可以发起 HTTP 请求，支持所有的请求类型，支持携带各种请求参数信息以及 token 等请求头信息
可发送 HTTP 请求，支持 herder、token 等请求头，支持 url 带参数，支持由上游节点输入的变量

### HTTP 接收节点

可创建 HTTP 服务，用于接收 HTTP 请求，解析出请求参数，向下游输出。可根据请求参数处理业务逻辑，与 HTTP 响应节点搭配使用
可自定义 http 服务，用于接收 HTTP 请求，解析出请求参数向下输出，可根据请求参数处理业务逻辑，与 HTTP 响应节点搭配使用

### HTTP 响应节点

可响应 HTTP 请求，与 HTTP 接收节点搭配使用，在处理完业务逻辑后，响应请求并返回数据，可根据上游节点的输出结果动态响应数据
用于响应 HTTP 请求，与 HTTP 接收节点搭配使用，根据上游节点的处理结果动态响应数据

### WS 服务端节点

WebSocket 服务端节点，可自定义路径创建 websocket 服务，自定义发送消息内容和发送时机，可广播发送上游节点的输出参数，收到客户端消息后亦会向下游输出。本节点为阻塞节点，运行后需要手动停止
WebSocket 服务端，可自定义路径创建 WebSocket 服务，自定义发送消息内容和发送时机，收到客户端消息后会向下游输出

### WS 客户端节点

WebSocket 客户端节点，可连接指定路径的 websocket 服务，自定义发送消息内容和发送时机，收到服务端消息后会立即向下游输出
WebSocket 客户端，可连接 WebSocket 服务，自定义发送消息内容和发送时机，收到服务端消息后会向下游输出

### MQTT 订阅节点

MQTT 订阅节点，可订阅指定 topic 中的消息，接收到消息后会向下游输出。本节点为阻塞节点，运行后需要手动停止
订阅指定 topic 中的消息，接收到消息后输出

### MQTT 发布节点

MQTT 发布节点，可向指定 topic 中发送 MQTT 消息，发送的消息内容会向下游节点输出
可向指定 topic 中发送消息，发送的消息内容会输出

### mysql 节点

Mysql 节点，可连接 mysql 数据库，执行自定义 sql 语句，支持任意类型的多条 sql 语句，输出每条语句的执行结果和内容
可连接 mysql 数据库，执行自定义 sql 语句，支持任意类型的多条 sql 语句，输出执行结果和内容

### mongodb 节点

MongoDB 节点，可连接 MongoDB 数据库，执行自定义命令语句，输出执行结果和内容
可连接 mongodb 数据库，执行自定义命令语句，输出执行结果和内容

### redis 节点

Redis 节点，可连接 redis 服务器，执行自定义操作，输出执行结果和内容
可连接 redis 服务器，执行自定义操作，输出执行结果和内容
